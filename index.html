<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>For You üíñ</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- üå∏ Handwritten + clean font -->
<link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600&family=Pacifico&display=swap" rel="stylesheet">

<style>
html, body {
    margin: 0;
    padding: 0;
    background: radial-gradient(circle at bottom, #16001f, #000);
    overflow: hidden;
    height: 100%;
}
canvas { display: block; }
</style>
</head>
<body>

<canvas id="canvas"></canvas>

<audio id="bgMusic" src="music.mp3" loop></audio>
<audio id="clickSound" src="click.mp3"></audio>

<script>
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");

function resize(){
    canvas.width = innerWidth;
    canvas.height = innerHeight;
}
resize();
addEventListener("resize", resize);

// üéµ Music
const bgMusic = document.getElementById("bgMusic");
const clickSound = document.getElementById("clickSound");
document.body.addEventListener("click", () => {
    bgMusic.volume = 0.45;
    bgMusic.play().catch(()=>{});
}, { once:true });

// üí¨ Messages (for your best friend)
const messages = [
    ["TE EXTRA√ëO MUCHO ü•∫","(I miss you.)"],
    ["GRACIAS POR ESTAR SIEMPRE AH√ç PARA M√ç, AMIGA üíó","(Thank you for always being there for me.)"],
    ["ERES MI PERSONA SEGURA üå∑","(You are my safe person.)"],
    ["GRACIAS POR ESCUCHARME Y APOYARME SIEMPRE ‚ú®","(Thank you for listening and supporting me.)"],
    ["TE QUIERO MUCHO, AMIGA üíï","(I love you.)"],
    ["ME SIENTO AFORTUNADA DE TENERTE EN MI VIDA üå∏","(I feel lucky to have you in my life.)"]
];

let msgIndex = 0, fade = 0, showText = false;

// ‚≠ê Stars
const stars = Array.from({length:150},()=>({
    x: Math.random()*canvas.width,
    y: Math.random()*canvas.height,
    r: Math.random()*1.5+0.5,
    a: Math.random()
}));

function drawStars(){
    stars.forEach(s=>{
        s.a += (Math.random()-0.5)*0.02;
        s.a = Math.max(0.3, Math.min(1,s.a));
        ctx.fillStyle=`rgba(255,255,255,${s.a})`;
        ctx.beginPath();
        ctx.arc(s.x,s.y,s.r,0,Math.PI*2);
        ctx.fill();
    });
}

// ‚ù§Ô∏è Heart formula
function heart(t){
    return {
        x:16*Math.pow(Math.sin(t),3),
        y:13*Math.cos(t)-5*Math.cos(2*t)-2*Math.cos(3*t)-Math.cos(4*t)
    };
}

const heartPoints = [];
for(let i=0;i<=1000;i++){
    heartPoints.push(heart(i/1000 * Math.PI*2));
}

let drawProgress = 0;

// üå∏ Flowers
const flowers = [
    {x:90,y:90,size:20,grow:0,rot:0},
    {x:()=>canvas.width-90, y:()=>canvas.height-90,size:20,grow:0,rot:Math.PI/4}
];

function drawFlower(x,y,size,scale,rotation){
    ctx.save();
    ctx.translate(x,y);
    ctx.rotate(rotation);
    ctx.scale(scale,scale);
    for(let i=0;i<6;i++){
        ctx.rotate(Math.PI/3);
        ctx.beginPath();
        ctx.fillStyle="rgba(255,170,210,0.85)";
        ctx.ellipse(0,size,size/2,size,0,0,Math.PI*2);
        ctx.fill();
    }
    ctx.beginPath();
    ctx.fillStyle="#ffe6f1";
    ctx.arc(0,0,size/2,0,Math.PI*2);
    ctx.fill();
    ctx.restore();
}

// üñ±Ô∏è Click heart
canvas.onclick = e=>{
    const dx = e.clientX - canvas.width/2;
    const dy = e.clientY - canvas.height/2;
    if(Math.sqrt(dx*dx+dy*dy)<200){ // bigger heart radius
        msgIndex = (msgIndex+1)%messages.length;
        fade = 0;
        showText = true;
        clickSound.currentTime=0;
        clickSound.play();
    }
};

// ‚ú® Draw text (smaller & new font)
function drawText(){
    if(!showText) return;
    fade = Math.min(fade+0.02,1);

    ctx.textAlign="center";

    // Main message
    ctx.fillStyle=`rgba(255,210,225,${fade})`;
    ctx.font="16px 'Pacifico'";
    ctx.fillText(messages[msgIndex][0],canvas.width/2,canvas.height/2);

    // Translation
    ctx.fillStyle=`rgba(255,200,220,${fade*0.8})`;
    ctx.font="12px 'Quicksand'";
    ctx.fillText(messages[msgIndex][1],canvas.width/2,canvas.height/2+26);
}

// üíñ Animate
function animate(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    drawStars();

    const pulse = 1+Math.sin(Date.now()*0.003)*0.05;
    const scale = 20*pulse; // MUCH LARGER HEART

    const cx = canvas.width/2;
    const cy = canvas.height/2;

    if(drawProgress<1) drawProgress+=0.01;
    const visible = Math.floor(drawProgress*heartPoints.length);

    // Glow
    ctx.shadowBlur = 30;
    ctx.shadowColor="#ff4d88";

    const gradient = ctx.createLinearGradient(0,0,0,canvas.height);
    gradient.addColorStop(0,"#ff7fb3");
    gradient.addColorStop(1,"#ff1a4f");

    // Heart outline
    ctx.beginPath();
    for(let i=0;i<visible;i++){
        const p = heartPoints[i];
        const x = cx + p.x*scale;
        const y = cy - p.y*scale;
        if(i===0) ctx.moveTo(x,y);
        else ctx.lineTo(x,y);
    }
    ctx.strokeStyle="#ff7fb3";
    ctx.lineWidth=4;
    ctx.stroke();

    if(drawProgress>=1){
        ctx.fillStyle=gradient;
        ctx.fill();
    }

    ctx.shadowBlur=0;

    // üå∏ Flowers grow & sway
    flowers.forEach(f=>{
        f.grow = Math.min(f.grow+0.01,1);
        f.rot += 0.002;
        const fx = typeof f.x==="function"?f.x():f.x;
        const fy = typeof f.y==="function"?f.y():f.y;
        drawFlower(fx, fy+Math.sin(Date.now()*0.002)*4, f.size, f.grow, f.rot);
    });

    drawText();
    requestAnimationFrame(animate);
}
animate();
</script>
</body>
</html>
